var e={inline:["$","$"],display:["$$","$$"]};function t(e){var t=e instanceof Element?e:e.parentElement;return t&&t.closest(".katex")}document.addEventListener("copy",(function(n){var a=window.getSelection();if(!a.isCollapsed&&n.clipboardData){var r=n.clipboardData,l=a.getRangeAt(0),i=t(l.startContainer);i&&l.setStartBefore(i);var o=t(l.endContainer);o&&l.setEndAfter(o);var c=l.cloneContents();if(c.querySelector(".katex-mathml")){var d=Array.prototype.map.call(c.childNodes,(e=>e instanceof Text?e.textContent:e.outerHTML)).join("");r.setData("text/html",d),r.setData("text/plain",function(t,n){void 0===n&&(n=e);for(var a=t.querySelectorAll(".katex-mathml + .katex-html"),r=0;r<a.length;r++){var l=a[r];l.remove?l.remove():l.parentNode&&l.parentNode.removeChild(l)}for(var i=t.querySelectorAll(".katex-mathml"),o=0;o<i.length;o++){var c=i[o],d=c.querySelector("annotation");d&&(c.replaceWith?c.replaceWith(d):c.parentNode&&c.parentNode.replaceChild(d,c),d.innerHTML=n.inline[0]+d.innerHTML+n.inline[1])}for(var p=t.querySelectorAll(".katex-display annotation"),s=0;s<p.length;s++){var v=p[s];v.innerHTML=n.display[0]+v.innerHTML.substr(n.inline[0].length,v.innerHTML.length-n.inline[0].length-n.inline[1].length)+n.display[1]}return t}(c).textContent),n.preventDefault()}}}));