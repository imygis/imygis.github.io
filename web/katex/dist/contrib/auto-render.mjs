import e from"../katex.mjs";var t=function(e,t,r){for(var a=r,n=0,i=e.length;a<t.length;){var l=t[a];if(n<=0&&t.slice(a,a+i)===e)return a;"\\"===l?a++:"{"===l?n++:"}"===l&&n--,a++}return-1},r=/^\\begin{/,a=function(a,n){var i=function(e,a){for(var n,i=[],l=new RegExp("("+a.map((e=>e.left.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"))).join("|")+")");-1!==(n=e.search(l));){n>0&&(i.push({type:"text",data:e.slice(0,n)}),e=e.slice(n));var o=a.findIndex((t=>e.startsWith(t.left)));if(-1===(n=t(a[o].right,e,a[o].left.length)))break;var d=e.slice(0,n+a[o].right.length),s=r.test(d)?d:e.slice(a[o].left.length,n);i.push({type:"math",data:s,rawData:d,display:a[o].display}),e=e.slice(n+a[o].right.length)}return""!==e&&i.push({type:"text",data:e}),i}(a,n.delimiters);if(1===i.length&&"text"===i[0].type)return null;for(var l=document.createDocumentFragment(),o=0;o<i.length;o++)if("text"===i[o].type)l.appendChild(document.createTextNode(i[o].data));else{var d=document.createElement("span"),s=i[o].data;n.displayMode=i[o].display;try{n.preProcess&&(s=n.preProcess(s)),e.render(s,d,n)}catch(t){if(!(t instanceof e.ParseError))throw t;n.errorCallback("KaTeX auto-render: Failed to parse `"+i[o].data+"` with ",t),l.appendChild(document.createTextNode(i[o].rawData));continue}l.appendChild(d)}return l},n=function e(t,r){for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(3===i.nodeType){for(var l=i.textContent,o=i.nextSibling,d=0;o&&o.nodeType===Node.TEXT_NODE;)l+=o.textContent,o=o.nextSibling,d++;var s=a(l,r);if(s){for(var g=0;g<d;g++)i.nextSibling.remove();n+=s.childNodes.length-1,t.replaceChild(s,i)}else n+=d}else 1===i.nodeType&&function(){var t=" "+i.className+" ";-1===r.ignoredTags.indexOf(i.nodeName.toLowerCase())&&r.ignoredClasses.every((e=>-1===t.indexOf(" "+e+" ")))&&e(i,r)}()}},i=function(e,t){if(!e)throw new Error("No element provided to render");var r={};for(var a in t)t.hasOwnProperty(a)&&(r[a]=t[a]);r.delimiters=r.delimiters||[{left:"$$",right:"$$",display:!0},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}],r.ignoredTags=r.ignoredTags||["script","noscript","style","textarea","pre","code","option"],r.ignoredClasses=r.ignoredClasses||[],r.errorCallback=r.errorCallback||console.error,r.macros=r.macros||{},n(e,r)};export{i as default};